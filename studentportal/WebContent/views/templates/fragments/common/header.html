<div th:fragment="headerbar">
<head>
	<link rel="icon" href="https://d37h7i18odu65q.cloudfront.net/assets/images/tablogo.png" />

 <meta name="userId" th:content="${session.userId}" />

	<link rel="stylesheet" th:href="${@environment.getProperty('BASE_URL_STUDENTPORTAL_STATIC_RESOURCES')} + 'assets/css/skip-navigation-header.css'" />

</head>
 <style th:inline="text">
 
 ul{
 list-style-type: none;
 }
    
 @media ( max-width : 768px) {  
	.sz-header-menu{  
display: contents!important; 
}
.sz-header .sz-header-menu li{
padding:0px!important;
}
}
.disabled {
	pointer-events: none;
	cursor: default;
}
.student-info-bar{
left: ${(session.perspective=="free") ? "0px!important" :"100px"};
width: ${(session.perspective=="free") ? "100%!important" : "93%" }   ;
}      
.sz-content-wrapper{
padding-left: ${(session.perspective=="free")?"0px!important":"100px"} ; 
}
.sz-breadcrumb-wrapper{
left: ${(session.perspective=="free") ? "0px!important" : "100px" };
width: ${(session.perspective=="free") ? "100%!important": ""};
}  
#globalSearch{
 	height:70px !important;
} 
#globalSearch[placeholder]{
 	font-size :22px !important;
}
#globalSearch::placeholder {
  	font-size: 17px;
}

#searchResult .list-group .list-group-item {
	font-weight: normal;
}

#searchResult .list-group .list-group-item:hover {
	background-color: aliceblue;
}

#searchResult .list-group .list-group-item::before:hover {
	background-color: black;
}
.buttonContrast{
	background-color:blue !important;
	border-color:blue !important;
	border-style: solid;
	color:white !important;
}
.linkContrast {
  color: blue !important;
}
.inputBorder{
	border : 1px solid blue !important;
}
</style>

	<th:block th:with="mobileVisibleHeaderClass=(${session.userId == null} ? 'visibleHeader' : ''),linkedin='https://blog.linkedin.com/2020/march/26/resources-to-help-you-navigate-the-challenges-of-todays-job-market?trk=lilblog_03-30-20_LiL-free-resources_learning'
,noOfAnnouncemntsInHeader=(!${#strings.isEmpty(session.announcementsPortal)} ? ${session.announcementsPortal.size()} : 0)
,showProfile=(${session.isLoginAsLead == 'true'} ? false : true)
,link=(${session.isLoginAsLead == 'true'} ? 'disabled' : '')
,profileHref=(${session.isLoginAsLead == 'true'} ? '#' : '/studentportal/student/updateProfile')
,perspective=(${session.isLoginAsLead == 'true'} ? ${session.student_studentportal.perspective} : '')
,communicationLink='/studentportal/student/emailCommunicationsForm'
,consumerProgramStructureHasCSAccess=(${session.consumerProgramStructureHasCSAccess == true} ? true : false)
,csActiveInHeader=(${session.student_studentportal.purchasedOtherPackages ==  true} ? true : false)">


<div class="sz-header ${mobileVisibleHeaderClass}" id="myElement" th:attr="userId=${session.userId}"></div>

<div class="sz-header ${mobileVisibleHeaderClass}">
<input type="hidden" id="subjectCodeIds" th:value="${session['subjectCodeId_studentportal']}" />

	<div class="container-fluid">
		<a class="skip-navigation" href="#main-content-info-bar">Skip Navigation</a><!-- Adding Skip Navigation link for keyboard navigation accessibility, card: 17484 -->
		
		<div class="sz-logo">
			<img th:src="${@environment.getProperty('BASE_URL_STUDENTPORTAL_STATIC_RESOURCES')}+'assets/images/logo.png'" class="img-responsive" alt="" /> 
			<!-- <img src="https://d3q78eohsdsot3.cloudfront.net/assets/images/logo.png" class="img-responsive" alt="" /> -->
		</div>


		<div th:if="!${#strings.isEmpty(session.userId)}">
		
	
 			<!-- <p th:text="${#strings.isEmpty(userId)}"></p> -->
	 			<div th:if="${session.isLoginAsLead == 'true'}"> 
	 				<ul  class="sz-header-menu text-nowrap">	
	 					<li>
	 						<a href="getFreeCoursesList"><span class="fa-solid fa-house" aria-hidden="true"></span>Home</a>
	 					</li>
						<li>
							<a href="https://ngasce.secure.force.com/nmcompleteFormRevised?id=${session.lead.leadId}" target="_blank">
								<span class="fa-solid fa-registered"></span>Register Now</a>
						</li>
					</ul>
	 			</div>
	 	<ul class="sz-header-menu text-nowrap"><li><a href="/logout"><span class="icon-logout"></span>Logout</a></li></ul>
	 		<div th:if="${session.isLoginAsLead == 'false'}"> 
	 			<ul class="sz-header-menu text-nowrap">
					
					<li><a href="#" onClick="focusSearchBar()" data-bs-toggle="modal" data-bs-target="#globalsearchmodel" >
						<span class="fa-solid fa-magnifying-glass"></span>Search</a>
					</li>	
					<!-- Button trigger modal -->
					
					<!-- Modal -->
					<div class="modal fade" id="globalsearchmodel" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
					  <div class="modal-dialog">
					    <div class="modal-content">
					      <div class="modal-header">
					        <h1 class="modal-title fs-5 w-100" id="exampleModalLabel">
					        	<!-- search bar -->
						        <form class="d-flex" role="search" action="/studentportal/student/searchResultPage" >
							      <input class="form-control me-2" type="search" placeholder="Search here" id="globalSearch" aria-label="Search" name="search"/>
							    </form>
							</h1>
					      </div>
					      <div class="modal-body">
							<a href="#" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#SearchModal"></a>
							<br/>
							<div id="searchResult"></div>
					      </div>
					      <div class="modal-footer">
					        <a class="btn btn-secondary" id="allSearch" >Search</a>
					      </div>
					    </div>
					  </div>
					</div>	
	 				<li th:classappend="${session.courseraAccess and #strings.isEmpty(session.hideProfileLink)}"><a href="/acads/student/showCourseraProducts"><span class="fa-regular fa-lightbulb"></span>Skillsets</a></li>
	 				<li th:classappend="${#strings.isEmpty(session.hideProfileLink)}  and ${csActiveInHeader} and ${consumerProgramStructureHasCSAccess}"><a href="/careerservices/showAllProducts"><span class="fa-solid fa-briefcase"></span>Career Services</a></li>
	 				<li th:classappend="${#strings.isEmpty(session.hideProfileLink)}" ><a th:href="${communicationLink}"><span class="fa-solid fa-envelope"></span>My Communications</a></li>
	 			 	<li class="notification-link studentAnnouncementCounter">
		 				<a href="" data-toggle="modal" data-bs-keyboard="true" data-bs-target="#announcements"> 
							<span class="icon-notification" id="announcementCounter">
								<div class="notification-count"></div>
							</span>
						</a>
					</li>
					<li th:classappend="${#strings.isEmpty(session.hideProfileLink) and showProfile}"><a th:href="${profileHref}" class="${link}"><span class="fa-regular fa-user"></span>My Profile</a></li>
						
				</ul>
	 		</div>
		
		
		</div>
		<div class="clearfix"></div>
	</div>
</div>
<!--header ends-->
<!-- <div th:if="${noOfAnnouncemntsInHeader > 0}"> -->

<div class="modal fade" id="announcements" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title " id="exampleModalLabel">ALL ANNOUNCEMENTS</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

     	<div id="loaderHome" class="d-none text-center my-2">
		  <img src="${@propertyConfigurer.getProperty('BASE_URL_EXAM_STATIC_RESOURCES')}resources_2015/gifs/loading-29.gif" alt="Loading..." style="height:40px" />
		  <p class="text-danger fw-bold my-1">Loading...</p>
		</div>
     	
     	
			<div class="modal-body">
				<ul>
				
<!-- 				<th:block th:each="announcement,iter : ${session.announcementsPortal}"> -->
<!-- 					<li> -->
<!-- 						<a href="#" data-bs-toggle="modal"  data-bs-dismiss="modal" data-row="${announcement}" th:attr="data-bs-target='#modal-warning'+${iter.index}">  -->
<!-- 								<p class="card-text text-dark fw-bold" th:text="${announcement.subject}"></p> -->
<!-- 							 	<p  class="card-text text-dark"  th:utext="(${#strings.length(announcement.description) > 150 } ? ${#strings.substring(announcement.description, 0, 149)}+'...' : ${announcement.description})" ></p>  -->
<!-- 								<p  class="card-text text-dark" th:text="${announcement.startDate + ' by ' + announcement.category}" > </p>  -->
<!-- 						</a> -->
<!-- 					</li> -->
<!-- 				<hr/> -->
<!-- 				</th:block> -->
						<div id="announcementbody"></div>
				</ul>
			</div>
			<div class="modal-footer">
               <button type="button" class="btn btn-default" id="archive">View Archive</button></div>
		</div>
	</div>
</div>

<!-- </div> -->
 <div id="announcementInsideModal"></div>

<!-- <div th:if="${noOfAnnouncemntsInHeader > 0}">
	 <th:block th:each="announcement,iter : ${session.announcementsPortal}">

<div th:fragment="modal" class="modal fade " th:id="modal-warning+${iter.index}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">ANNOUNCEMENTS</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
			<div class="modal-body">
				<h6 th:utext="${announcement.subject}"></h6>
				<p th:utext="${announcement.description}"></p>
			
				<div th:if="${announcement.attachment1 != null}">
					<a target="_blank" th:href="${@environment.getProperty('ANNOUNCEMENT_PREVIEW_PATH') + announcement.attachmentFile1Name}" ><div th:text="${announcement.attachmentFile1Name}"></div> </a><br/>
				</div>
				<div th:if="${announcement.attachment2 != null}">
					<a target="_blank" th:href="${@environment.getProperty('ANNOUNCEMENT_PREVIEW_PATH') + announcement.attachmentFile2Name}" > <div th:text="${announcement.attachmentFile1Name}"></div></a><br/>
				</div>
				<div th:if="${announcement.attachment3 != null}">
					<a target="_blank" th:href="${@environment.getProperty('ANNOUNCEMENT_PREVIEW_PATH') + announcement.attachmentFile3Name}" > <div th:text="${announcement.attachmentFile1Name}"></div></a><br/>
				</div>
				
				<h4 class="small"  th:text="${announcement.startDate + ' by ' + announcement.category}"><a href="#"></a></h4>

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-bs-dismiss="modal">DONE</button>
			</div>
		</div>
	</div>
</div>
</th:block>

</div> -->
<input type="hidden" id="checkTextToSpeech" th:value="${session.student_studentportal.textToSpeech}"/>
<input type="hidden" id="checkHighContrast" th:value="${session.student_studentportal.highContrast}"/>
<script th:src="@{/assets/js/announcement.js}"></script>
<script th:src="${@environment.getProperty('BASE_URL_STUDENTPORTAL_STATIC_RESOURCES')}+'assets/js/jquery-1.11.3.min.js'"></script>
<script type="text/javascript">
    document.getElementById("archive").onclick = function () {
        location.href = "/announcement/student/getAllStudentAnnouncements";
    };
</script>
<script th:src="@{${@environment.getProperty('SERVER_PATH')} + 'studentportal/assets/js/header.js'}"></script>
</th:block>

</div>