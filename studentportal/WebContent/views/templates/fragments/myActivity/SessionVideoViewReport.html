<div th:fragment="session-video-view-report" xmlns:th="http://www.thymeleaf.org">
	<div class="row">
		<div id="videoAttempChart" class="col-lg-6 col-md-12 col-12 my-2">
			<div class="card chart-container w-100 m-auto">
				<h6 class="pt-3">Session Video View Report</h6>
			    <canvas th:if="${currentCycleStudent}" id="video-attempt-chart"></canvas>
			    <p th:unless="${currentCycleStudent}" class="text-secondary pt-3">
				    <i class="fa-solid fa-circle-exclamation"></i>
				    <span>0 subjects available for the <span th:text="${currentAcadMonthYear}"></span> cycle.</span>
			    </p>
			</div>
		</div>
		<div class="col-lg-6 col-md-12 col-12 my-2">
			<div class="px-3 py-3 border rounded w-100 m-auto">
				<h6>Session Video View Report (Subject-wise)</h6>
				<div th:if="${currentCycleStudent}">
					<div class="row my-2 px-3">
						<div class="col-lg-6 col-md-6 col-12">
							<div class="mx-1 my-1 pt-3 border rounded">
								<h6 class="fw-bold">Total View</h6>
								<p th:text="${totalVideoDetailsList.total_attempt}"></p>
							</div>
						</div>
						<div class="col-lg-6 col-md-6 col-12">
							<div class="mx-1 my-1 pt-3 border rounded">
								<h6 class="fw-bold">Total Duration</h6>
								<p th:text="${totalVideoDetailsList.total_duration}"></p>
							</div>
						</div>
					</div>
					<div class="accordion accordion-flush my-2 px-3 border rounded" id="videoAccordion">
					  <div th:each="videoDetails, status : ${totalVideoDetailsList.subject_details}" class="accordion-item row">
					    <h2 class="accordion-header" th:id="'flush-heading-video'+${status.index}">
					      <button class="accordion-button collapsed fw-normal" type="button" data-bs-toggle="collapse" th:attr="data-bs-target='#flush-collapse-video'+${status.index}, aria-controls='flush-collapse-video'+${status.index}" aria-expanded="false" style="z-index: 1;">
					        <span th:text="${videoDetails.key}"></span>
					      </button>
					    </h2>
					    <div th:id="'flush-collapse-video'+${status.index}" class="accordion-collapse collapse" th:attr="aria-labelledby='flush-heading-video'+${status.index}" data-bs-parent="#videoAccordion">
					      <div class="accordion-body">
					      	<div class="row my-2 px-3">
								<div class="col-lg-6 col-md-6 col-12">
									<div class="mx-1 my-1 pt-3 border rounded">
										<h6 class="fw-semibold">Total View</h6>
										<p th:text="${videoDetails.value.subject_total_attempt}"></p>
									</div>
								</div>
								<div class="col-lg-6 col-md-6 col-12">
									<div class="mx-1 my-1 pt-3 border rounded">
										<h6 class="fw-semibold">Total Duration</h6>
										<p th:text="${videoDetails.value.subject_total_duration}"></p>
									</div>
								</div>
							</div>
					      </div>
					    </div>
					  </div>
					</div>
				</div>
				<p th:unless="${currentCycleStudent}" class="text-secondary pt-3">
				    <i class="fa-solid fa-circle-exclamation"></i>
				    <span>0 subjects available for the <span th:text="${currentAcadMonthYear}"></span> cycle.</span>
			    </p>
			</div>
		</div>
	</div>
</div>